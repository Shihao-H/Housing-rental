{"ast":null,"code":"import axios from\"axios\";import{appConstants}from\"../constants/constant\";var API='http://localhost:8089';export var register=function register(user,success,failure){var registerPromise=axios.post(\"\".concat(API,\"/users\"),user).then(function(res){// TODO: check success and failure and make sure it's a function (tech debt)\n// res.data.success ? success() : failure();\nres.data.success?typeof success==='function'&&success():typeof failure==='function'&&failure();return res;}).catch(function(err){typeof failure==='function'&&failure(err);return err;});return{type:appConstants.REGISTER,payload:registerPromise};};export var checkLogin=function checkLogin(){var checkLoginPromise=fetch('http://localhost:8089/checklogin',{credentials:'include'}).then(function(res){return res.json();}).catch();return{type:appConstants.CHECK_LOGIN,payload:checkLoginPromise};};","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/actions/user.action.js"],"names":["axios","appConstants","API","register","user","success","failure","registerPromise","post","then","res","data","catch","err","type","REGISTER","payload","checkLogin","checkLoginPromise","fetch","credentials","json","CHECK_LOGIN"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,YAAR,KAA2B,uBAA3B,CAEA,GAAMC,CAAAA,GAAG,CAAG,uBAAZ,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAOC,OAAP,CAAgBC,OAAhB,CAA4B,CAChD,GAAMC,CAAAA,eAAe,CAAGP,KAAK,CAACQ,IAAN,WAAcN,GAAd,WAA2BE,IAA3B,EACnBK,IADmB,CACd,SAAAC,GAAG,CAAI,CACT;AACA;AACAA,GAAG,CAACC,IAAJ,CAASN,OAAT,CACI,MAAOA,CAAAA,OAAP,GAAmB,UAAnB,EAAiCA,OAAO,EAD5C,CAEI,MAAOC,CAAAA,OAAP,GAAmB,UAAnB,EAAiCA,OAAO,EAF5C,CAGA,MAAOI,CAAAA,GAAP,CACH,CARmB,EASnBE,KATmB,CASb,SAAAC,GAAG,CAAI,CACV,MAAOP,CAAAA,OAAP,GAAmB,UAAnB,EAAiCA,OAAO,CAACO,GAAD,CAAxC,CACA,MAAOA,CAAAA,GAAP,CACH,CAZmB,CAAxB,CAeA,MAAO,CACHC,IAAI,CAAEb,YAAY,CAACc,QADhB,CAEHC,OAAO,CAAET,eAFN,CAAP,CAIH,CApBM,CAyBP,MAAO,IAAMU,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAC5B,GAAMC,CAAAA,iBAAiB,CAAGC,KAAK,CAAC,kCAAD,CAAqC,CAACC,WAAW,CAAE,SAAd,CAArC,CAAL,CACrBX,IADqB,CAChB,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACW,IAAJ,EAAJ,EADa,EAErBT,KAFqB,EAA1B,CAGA,MAAO,CACHE,IAAI,CAAEb,YAAY,CAACqB,WADhB,CAEHN,OAAO,CAAEE,iBAFN,CAAP,CAIH,CARM","sourcesContent":["import axios from \"axios\";\nimport {appConstants} from \"../constants/constant\";\n\nconst API = 'http://localhost:8089';\n\nexport const register = (user, success, failure) => {\n    const registerPromise = axios.post(`${API}/users`, user)\n        .then(res => {\n            // TODO: check success and failure and make sure it's a function (tech debt)\n            // res.data.success ? success() : failure();\n            res.data.success ?\n                typeof success === 'function' && success() :\n                typeof failure === 'function' && failure();\n            return res;\n        })\n        .catch(err => {\n            typeof failure === 'function' && failure(err);\n            return err;\n        });\n\n\n    return {\n        type: appConstants.REGISTER,\n        payload: registerPromise\n    };\n};\n\n\n\n\nexport const checkLogin = () => {\n    const checkLoginPromise = fetch('http://localhost:8089/checklogin', {credentials: 'include'})\n        .then(res => res.json())\n        .catch();\n    return {\n        type: appConstants.CHECK_LOGIN,\n        payload: checkLoginPromise\n    };\n};\n"]},"metadata":{},"sourceType":"module"}