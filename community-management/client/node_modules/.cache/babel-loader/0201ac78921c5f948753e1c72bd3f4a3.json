{"ast":null,"code":"import _slicedToArray from\"/Users/shihaohuang/Documents/Mercury/community-management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{makeStyles}from'@material-ui/core/styles';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import SendIcon from'@material-ui/icons/Send';import Maintenance from\"./Maintenance\";import HorizontalLabelPositionBelowStepper from\"./application/Stepper\";import{useDispatch,useSelector}from\"react-redux\";import{getUserInfo}from\"../actions/userInfo.action\";import{getApplication}from\"../actions/application.action\";import Transaction from\"./Transaction\";import{getPayments}from\"../actions/userPayments.action\";import AttachMoneyIcon from'@material-ui/icons/AttachMoney';import HorizontalSplitIcon from'@material-ui/icons/HorizontalSplit';import AddCommentIcon from'@material-ui/icons/AddComment';import PostReview from\"./PostReview\";var useStyles=makeStyles(function(theme){return{root:{display:'flex',height:'1000px'},// necessary for content to be below app bar\ntoolbar:theme.mixins.toolbar,content:{flexGrow:1,backgroundColor:theme.palette.background.default,padding:theme.spacing(3)}};});var UserPage=function UserPage(){var classes=useStyles();var _useState=useState('user'),_useState2=_slicedToArray(_useState,2),component=_useState2[0],setComponent=_useState2[1];var loginState=useSelector(function(appState){return{user:appState.user,userInfo:appState.userInfo,application:appState.application};});var dispatch=useDispatch();(function(){if(loginState.userInfo===null){dispatch(getUserInfo(loginState.user.id));// setTimeout(dispatch(getUserInfo(loginState.user.id)),1000);\n}if(loginState.application===null){dispatch(getApplication(loginState.user.id));// setTimeout(dispatch(getApplication(loginState.user.id)),1000);\n}})();var handleTransaction=function handleTransaction(){dispatch(getPayments(loginState.user.id));setComponent('transaction');};return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar}),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:function onClick(){return setComponent('application');}},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(HorizontalSplitIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Application\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,disabled:!loginState.user.isactive,onClick:function onClick(){return setComponent('maintenance');}},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(SendIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Maintenance request\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,disabled:!loginState.user.isactive,onClick:handleTransaction},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(AttachMoneyIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Transactions\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,disabled:!loginState.user.isactive,onClick:function onClick(){return setComponent('postreview');}},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(AddCommentIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Post review\"}))),/*#__PURE__*/React.createElement(\"main\",{className:classes.content},/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar}),component==='application'?/*#__PURE__*/React.createElement(HorizontalLabelPositionBelowStepper,null):component==='maintenance'?/*#__PURE__*/React.createElement(Maintenance,null):component==='transaction'?/*#__PURE__*/React.createElement(Transaction,null):component==='postreview'?/*#__PURE__*/React.createElement(PostReview,null):/*#__PURE__*/React.createElement(\"span\",null)));};export default UserPage;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/user-page/UserPage.js"],"names":["React","useState","makeStyles","List","ListItem","ListItemIcon","ListItemText","SendIcon","Maintenance","HorizontalLabelPositionBelowStepper","useDispatch","useSelector","getUserInfo","getApplication","Transaction","getPayments","AttachMoneyIcon","HorizontalSplitIcon","AddCommentIcon","PostReview","useStyles","theme","root","display","height","toolbar","mixins","content","flexGrow","backgroundColor","palette","background","default","padding","spacing","UserPage","classes","component","setComponent","loginState","appState","user","userInfo","application","dispatch","id","handleTransaction","isactive"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SendIcon from '@material-ui/icons/Send';\nimport Maintenance from \"./Maintenance\";\nimport HorizontalLabelPositionBelowStepper from \"./application/Stepper\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUserInfo} from \"../actions/userInfo.action\";\nimport {getApplication} from \"../actions/application.action\";\nimport Transaction from \"./Transaction\";\nimport {getPayments} from \"../actions/userPayments.action\";\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport HorizontalSplitIcon from '@material-ui/icons/HorizontalSplit';\nimport AddCommentIcon from '@material-ui/icons/AddComment';\nimport PostReview from \"./PostReview\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        height: '1000px'\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    content: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3),\n    },\n}));\n\n\n\nconst UserPage = () => {\n    const classes = useStyles();\n    const [component, setComponent] = useState('user');\n\n    const loginState = useSelector(appState => {\n        return {\n            user: appState.user,\n            userInfo: appState.userInfo,\n            application: appState.application,\n        };\n    });\n\n    const dispatch = useDispatch();\n\n    (function () {\n        if(loginState.userInfo === null)\n        {\n            dispatch(getUserInfo(loginState.user.id));\n            // setTimeout(dispatch(getUserInfo(loginState.user.id)),1000);\n        }\n\n        if(loginState.application === null)\n        {\n            dispatch(getApplication(loginState.user.id));\n            // setTimeout(dispatch(getApplication(loginState.user.id)),1000);\n        }\n    })();\n\n    const handleTransaction = () => {\n        dispatch(getPayments(loginState.user.id));\n        setComponent('transaction');\n    }\n\n\n\n    return (\n        <div className={classes.root}>\n                <div className={classes.toolbar} />\n                <List>\n                    <ListItem button onClick={() => setComponent('application')}>\n                        <ListItemIcon>\n                            <HorizontalSplitIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Application\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={() => setComponent('maintenance')}>\n                        <ListItemIcon>\n                            <SendIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Maintenance request\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={handleTransaction}>\n                        <ListItemIcon>\n                            <AttachMoneyIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Transactions\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={() => setComponent('postreview')}>\n                        <ListItemIcon>\n                            <AddCommentIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Post review\" />\n                    </ListItem>\n                </List>\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n                {\n                    component === 'application' ?\n                        <HorizontalLabelPositionBelowStepper/>\n\n                        :\n                        component === 'maintenance' ?\n                            <Maintenance />\n                        :\n                        component === 'transaction' ?\n                            <Transaction/>\n                        :\n                        component === 'postreview' ?\n                            <PostReview/>\n                        :\n                            <span></span>\n                }\n            </main>\n        </div>\n    );\n}\n\nexport default UserPage;\n\n"]},"metadata":{},"sourceType":"module"}