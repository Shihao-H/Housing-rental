{"ast":null,"code":"var _jsxFileName = \"/Users/shihaohuang/Documents/Mercury/community-management/client/src/navbar/Register.js\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\nimport UsernameIcon from \"@material-ui/icons/Person\";\nimport Fab from \"@material-ui/core/Fab/Fab\";\nimport PasswordIcon from \"@material-ui/icons/VpnKey\";\nimport { withStyles } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport LoginIcon from '@material-ui/icons/FilterHdr';\nimport { register, userinfo } from \"../actions/user.action\";\nimport './Login.scss';\nimport Paper from \"@material-ui/core/Paper/Paper\";\nconst styles = {\n  root: {\n    marginTop: '25px',\n    '& .MuiInput-underline:before': {\n      borderBottomColor: 'white'\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: 'white'\n    },\n    '& .MuiInput-underline:before:hover': {\n      borderBottomColor: 'white'\n    },\n    '& .MuiInput-underline:hover:not(.MuiInput-disabled):before': {\n      borderBottomColor: 'white'\n    },\n    '& .MuiFormLabel-root': {\n      color: 'white'\n    }\n  },\n  input: {\n    color: 'white'\n  },\n  button: {\n    '&.MuiButtonBase-root': {\n      margin: '50px 0 25px'\n    }\n  }\n};\n\nconst Register = props => {\n  const {\n    classes\n  } = props; // // React hooks  React.useState()\n\n  const [user, setUser] = useState({\n    id: '',\n    username: '',\n    password: '',\n    profiles: []\n  });\n  const [userInfo, setUserInfo] = useState({\n    user: '',\n    name: 'test',\n    phone: '7777777',\n    email: '123@gmail.com',\n    address1: 'white house',\n    address2: 'Beijing',\n    city: 'Washington',\n    state: 'CA',\n    zip: '80523',\n    ssn: \"862232638\"\n  });\n  const [open, setOpen] = useState(false); //\n\n  const dispatch = useDispatch();\n\n  const handleFormControl = event => {\n    const newUser = { ...user\n    };\n    newUser[event.target.name] = event.target.value;\n    setUser(newUser);\n    const newUserInfo = { ...userInfo\n    };\n    newUserInfo.User = newUser;\n    setUserInfo(newUserInfo);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    dispatch(register(user, () => {\n      setOpen(true); // setTimeout(() => {\n      //     props.history.goBack();\n      // }, 2000);\n    }, () => setOpen(true)));\n    dispatch(userinfo(userInfo, () => {\n      setOpen(true); // setTimeout(() => {\n      //     props.history.goBack();\n      // }, 2000);\n    }, () => setOpen(true)));\n  };\n\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: \"Login\",\n    elevation: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"login-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LoginIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 45\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    name: \"username\" // className={classes.root}\n    ,\n    label: \"Username\",\n    value: user.username,\n    onChange: handleFormControl,\n    InputProps: {\n      className: classes.input,\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(UsernameIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 33\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"password\" // className={classes.root}\n    ,\n    label: \"Password\",\n    type: \"password\",\n    value: user.password,\n    onChange: handleFormControl,\n    InputProps: {\n      className: classes.input,\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(PasswordIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 33\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Fab, {\n    variant: \"extended\",\n    size: \"medium\",\n    color: \"secondary\",\n    \"aria-label\": \"Register\",\n    className: classes.button,\n    type: \"submit\" // disabled={!user.username || !user.password}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 17\n    }\n  }, \"Register\")));\n};\n\nexport default withStyles(styles)(Register);","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/navbar/Register.js"],"names":["React","useState","TextField","InputAdornment","UsernameIcon","Fab","PasswordIcon","withStyles","useDispatch","useSelector","LoginIcon","register","userinfo","Paper","styles","root","marginTop","borderBottomColor","color","input","button","margin","Register","props","classes","user","setUser","id","username","password","profiles","userInfo","setUserInfo","name","phone","email","address1","address2","city","state","zip","ssn","open","setOpen","dispatch","handleFormControl","event","newUser","target","value","newUserInfo","User","handleSubmit","preventDefault","className","startAdornment"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\nimport UsernameIcon from \"@material-ui/icons/Person\";\nimport Fab from \"@material-ui/core/Fab/Fab\";\nimport PasswordIcon from \"@material-ui/icons/VpnKey\"\nimport {withStyles} from \"@material-ui/core\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport LoginIcon from '@material-ui/icons/FilterHdr';\nimport {register, userinfo} from \"../actions/user.action\";\nimport './Login.scss';\nimport Paper from \"@material-ui/core/Paper/Paper\";\n\n\n\n\nconst styles = {\n    root: {\n        marginTop: '25px',\n        '& .MuiInput-underline:before': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:before:hover': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:hover:not(.MuiInput-disabled):before': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiFormLabel-root': {\n            color: 'white'\n        }\n    },\n    input: {\n        color: 'white'\n    },\n    button: {\n        '&.MuiButtonBase-root': {\n            margin: '50px 0 25px'\n        }\n    }\n};\n\n\n\nconst Register = (props) => {\n\n    const {classes} = props;\n    // // React hooks  React.useState()\n    const [user, setUser] = useState({\n        id: '',\n        username: '',\n        password: '',\n        profiles:[]\n    });\n\n\n    const [userInfo, setUserInfo] = useState({\n        user: '',\n        name: 'test',\n        phone: '7777777',\n        email: '123@gmail.com',\n        address1: 'white house',\n        address2: 'Beijing',\n        city: 'Washington',\n        state: 'CA',\n        zip: '80523',\n        ssn: \"862232638\"\n    });\n\n    const [open, setOpen] = useState(false);\n    //\n    const dispatch = useDispatch();\n\n    const handleFormControl = (event) => {\n        const newUser = {...user};\n        newUser[event.target.name] = event.target.value;\n        setUser(newUser);\n\n        const newUserInfo = {...userInfo};\n        newUserInfo.User = newUser;\n        setUserInfo(newUserInfo);\n\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        dispatch(register(\n            user,\n            () => {\n                setOpen(true);\n                // setTimeout(() => {\n                //     props.history.goBack();\n                // }, 2000);\n            },\n            () => setOpen(true)\n        ));\n\n        dispatch(userinfo(\n            userInfo,\n            () => {\n                setOpen(true);\n                // setTimeout(() => {\n                //     props.history.goBack();\n                // }, 2000);\n            },\n            () => setOpen(true)\n        ));\n    };\n\n\n\n    return (\n        <Paper className=\"Login\" elevation={10}>\n            <div className=\"overlay\"/>\n            <form className=\"login-form\" onSubmit={handleSubmit}>\n                <div className=\"login-icon\"><LoginIcon /></div>\n                <TextField\n                    name=\"username\"\n                    // className={classes.root}\n                    label=\"Username\"\n                    value={user.username}\n                    onChange={handleFormControl}\n                    InputProps={{\n                        className: classes.input,\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <UsernameIcon />\n                            </InputAdornment>\n                        ),\n                    }}\n                />\n\n                <TextField\n                    name=\"password\"\n                    // className={classes.root}\n                    label=\"Password\"\n                    type=\"password\"\n                    value={user.password}\n                    onChange={handleFormControl}\n                    InputProps={{\n                        className: classes.input,\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <PasswordIcon />\n                            </InputAdornment>\n                        )\n                    }}\n                />\n\n                {/*<TextField*/}\n                    {/*name=\"confirmed-password\"*/}\n                    {/*// className={classes.root}*/}\n                    {/*label=\"confirmedPassword\"*/}\n                    {/*type=\"password\"*/}\n                    {/*// value={user.password}*/}\n                    {/*onChange={handleFormControl}*/}\n                    {/*InputProps={{*/}\n                        {/*className: classes.input,*/}\n                        {/*startAdornment: (*/}\n                            {/*<InputAdornment position=\"start\">*/}\n                                {/*<PasswordIcon />*/}\n                            {/*</InputAdornment>*/}\n                        {/*)*/}\n                    {/*}}*/}\n                {/*/>*/}\n\n                <Fab\n                    variant=\"extended\"\n                    size=\"medium\"\n                    color=\"secondary\"\n                    aria-label=\"Register\"\n                    className={classes.button}\n                    type=\"submit\"\n                    // disabled={!user.username || !user.password}\n                >\n                    Register\n                </Fab>\n            </form>\n        </Paper>\n    );\n}\n\nexport default withStyles(styles)(Register);"]},"metadata":{},"sourceType":"module"}