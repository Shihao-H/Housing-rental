{"ast":null,"code":"var _jsxFileName = \"/Users/shihaohuang/Documents/Mercury/community-management/client/src/user-page/Transaction.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { putPayments } from \"../actions/userPayments.action\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport Collapse from \"@material-ui/core/Collapse/Collapse\";\nimport DialogTitle from \"@material-ui/core/DialogTitle/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions/DialogActions\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport { putTr } from \"../actions/tr.action\";\nimport { putEmailUs } from \"../actions/emailUs.action\";\nimport { putMaintenance } from \"../actions/maintenance.action\";\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650\n  }\n});\n\nconst Transaction = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const transactionState = useSelector(appState => {\n    return {\n      user: appState.user,\n      userPayments: appState.userPayments\n    };\n  });\n  const [checked, setChecked] = React.useState(false);\n  const [data, setData] = useState(transactionState.userPayments);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChange = () => {\n    setChecked(prev => !prev);\n    console.log(transactionState.userPayments);\n  };\n\n  const pay = id => {\n    handleClose();\n    dispatch(putPayments());\n  };\n\n  const deleteItem = event => {\n    event.preventDefault();\n    console.log('enter delete');\n    let temp = data;\n\n    function removeItemOnce(arr, value) {\n      let index = arr.indexOf(value);\n\n      if (index > -1) {\n        arr.splice(index, 1);\n      }\n\n      return arr;\n    }\n\n    let holder = [];\n\n    for (let item of selected) {\n      console.log('item: ' + item);\n\n      for (let value of temp) {\n        console.log('value: ' + value);\n\n        if (item === value.id) {\n          holder.push(value);\n          console.log('in');\n          removeItemOnce(data, value);\n        }\n      }\n    }\n\n    for (let i = 0; i < holder.length; i++) {\n      if (props.component === 'Tr') dispatch(putTr(holder[i]));else if (props.component === 'Eu') dispatch(putEmailUs(holder[i]));else if (props.component === 'Maintenance') dispatch(putMaintenance(holder[i]));else dispatch(putMaintenance(holder[i]));\n    }\n\n    setData(data);\n    setSelected([]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, \"Show my payment histories\"), /*#__PURE__*/React.createElement(Collapse, {\n    in: checked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: classes.table,\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }, \"Amount $\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 41\n    }\n  }, \"Memo\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 41\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 41\n    }\n  }, \"Status\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, data ? data.map(row => /*#__PURE__*/React.createElement(TableRow, {\n    key: row.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 45\n    }\n  }, row.amount), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 45\n    }\n  }, row.memo), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 45\n    }\n  }, row.date), row.status === 'unpaid' ? /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 57\n    }\n  }, row.status, \" \", \" \", /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleClickOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 61\n    }\n  }, \"Pay\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 65\n    }\n  }, \"Online Banking Payment\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 65\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-required\",\n    label: \"Bank routing number\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 69\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 69\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-password-input\",\n    label: \"Account number\",\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 69\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 65\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      pay(row.id);\n    },\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 69\n    }\n  }, \"Pay now\"))))) : /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 53\n    }\n  }, row.status))) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 45\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }));\n};\n\nexport default Transaction;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/user-page/Transaction.js"],"names":["React","useState","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","useDispatch","useSelector","putPayments","Button","Collapse","DialogTitle","Dialog","DialogContent","DialogActions","TextField","putTr","putEmailUs","putMaintenance","useStyles","table","minWidth","Transaction","classes","dispatch","transactionState","appState","user","userPayments","checked","setChecked","data","setData","open","setOpen","handleClickOpen","handleClose","handleChange","prev","console","log","pay","id","deleteItem","event","preventDefault","temp","removeItemOnce","arr","value","index","indexOf","splice","holder","item","selected","push","i","length","props","component","setSelected","map","row","amount","memo","date","status"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {putPayments} from \"../actions/userPayments.action\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport Collapse from \"@material-ui/core/Collapse/Collapse\";\nimport DialogTitle from \"@material-ui/core/DialogTitle/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions/DialogActions\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport {putTr} from \"../actions/tr.action\";\nimport {putEmailUs} from \"../actions/emailUs.action\";\nimport {putMaintenance} from \"../actions/maintenance.action\";\n\n\nconst useStyles = makeStyles({\n    table: {\n        minWidth: 650,\n    },\n});\n\n\nconst Transaction = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const transactionState = useSelector(appState => {\n        return {\n            user: appState.user,\n            userPayments: appState.userPayments\n\n        };\n    });\n\n    const [checked, setChecked] = React.useState(false);\n    const [data, setData] = useState(transactionState.userPayments);\n    const [open, setOpen] = React.useState(false);\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleChange = () => {\n        setChecked((prev) => !prev);\n        console.log(transactionState.userPayments);\n    };\n\n    const pay = (id) => {\n        handleClose();\n\n\n\n        dispatch(putPayments())\n\n    }\n\n\n\n\n    const deleteItem = (event) => {\n\n        event.preventDefault();\n\n        console.log('enter delete');\n        let temp = data;\n\n        function removeItemOnce(arr, value) {\n            let index = arr.indexOf(value);\n            if (index > -1) {\n                arr.splice(index, 1);\n            }\n            return arr;\n        }\n\n\n        let holder = []\n        for (let item of selected) {\n            console.log('item: '+item);\n            for(let value of temp)\n            {\n                console.log('value: '+value);\n                if(item===value.id)\n                {\n                    holder.push(value);\n                    console.log('in');\n                    removeItemOnce(data, value);\n                }\n\n            }\n        }\n\n\n\n        for (let i = 0; i < holder.length; i++) {\n            if(props.component === 'Tr')\n                dispatch(putTr(holder[i]));\n\n            else if(props.component === 'Eu')\n                dispatch(putEmailUs(holder[i]));\n\n            else if(props.component === 'Maintenance')\n                dispatch(putMaintenance(holder[i]));\n            else\n                dispatch(putMaintenance(holder[i]));\n\n        }\n        setData(data);\n        setSelected([]);\n\n\n    }\n\n\n\n\n\n\n\n\n\n\n            return (\n                <div>\n                <div>\n                    <Button onClick = {handleChange}>Show my payment histories</Button>\n                    <Collapse in={checked}>\n                        <TableContainer component={Paper}>\n                            <Table className={classes.table} aria-label=\"simple table\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell>Amount $</TableCell>\n                                        <TableCell align=\"left\">Memo</TableCell>\n                                        <TableCell align=\"left\">Date</TableCell>\n                                        <TableCell align=\"left\">Status</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {\n                                        data ?\n\n                                        data.map((row) => (\n                                        <TableRow key={row.id}>\n                                            <TableCell component=\"th\" scope=\"row\">\n                                                {row.amount}\n                                            </TableCell>\n                                            <TableCell align=\"left\">{row.memo}</TableCell>\n                                            <TableCell align=\"left\">{row.date}</TableCell>\n                                            {\n                                                row.status === 'unpaid' ?\n                                                    <TableCell align=\"left\">\n                                                        <div>\n                                                            {row.status} {\" \"}\n                                                            <Button color=\"primary\" onClick={handleClickOpen}>Pay</Button>\n                                                            <Dialog\n                                                                open={open}\n                                                                onClose={handleClose}\n                                                                aria-labelledby=\"alert-dialog-title\"\n                                                                aria-describedby=\"alert-dialog-description\"\n                                                            >\n                                                                <DialogTitle id=\"alert-dialog-title\">{\"Online Banking Payment\"}</DialogTitle>\n                                                                <DialogContent>\n                                                                    <TextField\n                                                                        id=\"standard-required\"\n                                                                        label=\"Bank routing number\"\n                                                                        type = \"number\"\n                                                                    />\n                                                                    <br/>\n                                                                    <TextField\n                                                                        id=\"standard-password-input\"\n                                                                        label=\"Account number\"\n                                                                        type=\"password\"\n                                                                    />\n\n                                                                </DialogContent>\n                                                                <DialogActions>\n                                                                    <Button onClick = {() => {pay(row.id)}} color=\"primary\">\n                                                                        Pay now\n                                                                    </Button>\n                                                                </DialogActions>\n                                                            </Dialog>\n                                                        </div>\n                                                    </TableCell>\n                                                    :\n                                                    <TableCell align=\"left\">{row.status}</TableCell>\n                                            }\n                                        </TableRow>\n\n                                        ))\n                                        :\n                                            <span></span>\n\n                                    }\n                                </TableBody>\n                            </Table>\n                        </TableContainer>\n                    </Collapse>\n\n\n                </div>\n                <div>\n                </div>\n                </div>\n            );\n\n\n\n}\n\nexport default Transaction;\n\n\n"]},"metadata":{},"sourceType":"module"}