{"ast":null,"code":"var _jsxFileName = \"/Users/shihaohuang/Documents/Mercury/community-management/client/src/navbar/UserPage.js\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { appConstants } from \"../constants/constant\";\nimport { checkLogin } from \"../actions/user.action\";\n\nconst UserPage = () => {\n  const dispatch = useDispatch(); // dispatch(checkLogin());\n\n  const logout = () => {\n    const logoutPromise = fetch('http://localhost:8089/logout', {\n      credentials: 'include'\n    }).then(res => res.json()).catch();\n    dispatch({\n      type: appConstants.LOGOUT,\n      payload: logoutPromise\n    });\n    console.log('checkLogin from logout');\n    dispatch(checkLogin());\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    onClick: logout,\n    className: \"auth-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, \"Logout\");\n};\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/navbar/UserPage.js"],"names":["Button","React","useDispatch","appConstants","checkLogin","UserPage","dispatch","logout","logoutPromise","fetch","credentials","then","res","json","catch","type","LOGOUT","payload","console","log"],"mappings":";AACA,OAAOA,MAAP,MAAmB,iCAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,YAAR,QAA2B,uBAA3B;AACA,SAAQC,UAAR,QAAyB,wBAAzB;;AAGA,MAAMC,QAAQ,GAAG,MAAM;AAEnB,QAAMC,QAAQ,GAAGJ,WAAW,EAA5B,CAFmB,CAGnB;;AACA,QAAMK,MAAM,GAAG,MAAM;AACjB,UAAMC,aAAa,GAAGC,KAAK,CAAC,8BAAD,EAAiC;AAACC,MAAAA,WAAW,EAAE;AAAd,KAAjC,CAAL,CACjBC,IADiB,CACZC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADK,EAEjBC,KAFiB,EAAtB;AAGAR,IAAAA,QAAQ,CAAC;AACLS,MAAAA,IAAI,EAAEZ,YAAY,CAACa,MADd;AAELC,MAAAA,OAAO,EAAET;AAFJ,KAAD,CAAR;AAKAU,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAb,IAAAA,QAAQ,CAACF,UAAU,EAAX,CAAR;AACH,GAXD;;AAaA,sBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEG,MAAjB;AAAyB,IAAA,SAAS,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAIH,CArBD;;AAsBA,eAAeF,QAAf","sourcesContent":["\nimport Button from \"@material-ui/core/Button/Button\";\nimport React from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {appConstants} from \"../constants/constant\";\nimport {checkLogin} from \"../actions/user.action\";\n\n\nconst UserPage = () => {\n\n    const dispatch = useDispatch();\n    // dispatch(checkLogin());\n    const logout = () => {\n        const logoutPromise = fetch('http://localhost:8089/logout', {credentials: 'include'})\n            .then(res => res.json())\n            .catch();\n        dispatch({\n            type: appConstants.LOGOUT,\n            payload: logoutPromise\n        });\n\n        console.log('checkLogin from logout');\n        dispatch(checkLogin());\n    };\n\n    return (\n        <Button onClick={logout} className=\"auth-action\">Logout</Button>\n\n    );\n};\nexport default UserPage;\n"]},"metadata":{},"sourceType":"module"}