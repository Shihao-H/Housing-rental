{"ast":null,"code":"var _jsxFileName = \"/Users/shihaohuang/Documents/Mercury/community-management/client/src/user-page/UserPage.js\";\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SendIcon from '@material-ui/icons/Send';\nimport Maintenance from \"./Maintenance\";\nimport HorizontalLabelPositionBelowStepper from \"./application/Stepper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getUserInfo } from \"../actions/userInfo.action\";\nimport { getApplication } from \"../actions/application.action\";\nimport Transaction from \"./Transaction\";\nimport { getPayments } from \"../actions/userPayments.action\";\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport HorizontalSplitIcon from '@material-ui/icons/HorizontalSplit';\nimport PostReview from \"./PostReview\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    height: '1000px'\n  },\n  // necessary for content to be below app bar\n  toolbar: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.default,\n    padding: theme.spacing(3)\n  }\n}));\n\nconst UserPage = () => {\n  const classes = useStyles();\n  const [component, setComponent] = useState('user');\n  const loginState = useSelector(appState => {\n    return {\n      user: appState.user,\n      userInfo: appState.userInfo,\n      application: appState.application\n    };\n  });\n  const dispatch = useDispatch();\n\n  (function () {\n    if (loginState.userInfo === null) {\n      dispatch(getUserInfo(loginState.user.id)); // setTimeout(dispatch(getUserInfo(loginState.user.id)),1000);\n    }\n\n    if (loginState.application === null) {\n      dispatch(getApplication(loginState.user.id)); // setTimeout(dispatch(getApplication(loginState.user.id)),1000);\n    }\n  })();\n\n  const handleTransaction = () => {\n    dispatch(getPayments(loginState.user.id));\n    setComponent('transaction');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    onClick: () => setComponent('application'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(HorizontalSplitIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Application\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    disabled: !loginState.user.isactive,\n    onClick: () => setComponent('maintenance'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Maintenance request\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    disabled: !loginState.user.isactive,\n    onClick: handleTransaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AttachMoneyIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Transactions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    disabled: !loginState.user.isactive,\n    onClick: () => setComponent('postreview'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(AttachMoneyIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Post review\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), component === 'application' ? /*#__PURE__*/React.createElement(HorizontalLabelPositionBelowStepper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }) : component === 'maintenance' ? /*#__PURE__*/React.createElement(Maintenance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }) : component === 'transaction' ? /*#__PURE__*/React.createElement(Transaction, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  }) : component === 'postreview' ? /*#__PURE__*/React.createElement(PostReview, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(HorizontalLabelPositionBelowStepper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  })));\n};\n\nexport default UserPage;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/user-page/UserPage.js"],"names":["React","useState","makeStyles","List","ListItem","ListItemIcon","ListItemText","SendIcon","Maintenance","HorizontalLabelPositionBelowStepper","useDispatch","useSelector","getUserInfo","getApplication","Transaction","getPayments","AttachMoneyIcon","HorizontalSplitIcon","PostReview","useStyles","theme","root","display","height","toolbar","mixins","content","flexGrow","backgroundColor","palette","background","default","padding","spacing","UserPage","classes","component","setComponent","loginState","appState","user","userInfo","application","dispatch","id","handleTransaction","isactive"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SendIcon from '@material-ui/icons/Send';\nimport Maintenance from \"./Maintenance\";\nimport HorizontalLabelPositionBelowStepper from \"./application/Stepper\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getUserInfo} from \"../actions/userInfo.action\";\nimport {getApplication} from \"../actions/application.action\";\nimport Transaction from \"./Transaction\";\nimport {getPayments} from \"../actions/userPayments.action\";\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport HorizontalSplitIcon from '@material-ui/icons/HorizontalSplit';\nimport PostReview from \"./PostReview\";\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        height: '1000px'\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    content: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.default,\n        padding: theme.spacing(3),\n    },\n}));\n\n\n\nconst UserPage = () => {\n    const classes = useStyles();\n    const [component, setComponent] = useState('user');\n\n    const loginState = useSelector(appState => {\n        return {\n            user: appState.user,\n            userInfo: appState.userInfo,\n            application: appState.application,\n        };\n    });\n\n    const dispatch = useDispatch();\n\n    (function () {\n        if(loginState.userInfo === null)\n        {\n            dispatch(getUserInfo(loginState.user.id));\n            // setTimeout(dispatch(getUserInfo(loginState.user.id)),1000);\n        }\n\n        if(loginState.application === null)\n        {\n            dispatch(getApplication(loginState.user.id));\n            // setTimeout(dispatch(getApplication(loginState.user.id)),1000);\n        }\n    })();\n\n    const handleTransaction = () => {\n        dispatch(getPayments(loginState.user.id));\n        setComponent('transaction');\n    }\n\n\n\n    return (\n        <div className={classes.root}>\n                <div className={classes.toolbar} />\n                <List>\n                    <ListItem button onClick={() => setComponent('application')}>\n                        <ListItemIcon>\n                            <HorizontalSplitIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Application\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={() => setComponent('maintenance')}>\n                        <ListItemIcon>\n                            <SendIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Maintenance request\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={handleTransaction}>\n                        <ListItemIcon>\n                            <AttachMoneyIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Transactions\" />\n                    </ListItem>\n                    <ListItem button disabled={!loginState.user.isactive} onClick={() => setComponent('postreview')}>\n                        <ListItemIcon>\n                            <AttachMoneyIcon />\n                        </ListItemIcon>\n                        <ListItemText primary=\"Post review\" />\n                    </ListItem>\n                </List>\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n                {\n                    component === 'application' ?\n                        <HorizontalLabelPositionBelowStepper/>\n\n                        :\n                        component === 'maintenance' ?\n                            <Maintenance />\n                        :\n                        component === 'transaction' ?\n                            <Transaction/>\n                        :\n                        component === 'postreview' ?\n                            <PostReview/>\n                        :\n                        <HorizontalLabelPositionBelowStepper/>\n                }\n            </main>\n        </div>\n    );\n}\n\nexport default UserPage;\n\n"]},"metadata":{},"sourceType":"module"}