{"ast":null,"code":"var _jsxFileName = \"/Users/shihaohuang/Documents/Mercury/community-management/client/src/header/Header.js\";\nimport React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport './Header.scss';\nimport { NavLink } from \"react-router-dom\";\nimport { appConstants } from \"../constants/constant\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport { checkLogin } from \"../actions/user.action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport NamesIcon from '@material-ui/icons/People';\n\nconst Header = () => {\n  const user = useSelector(({\n    user\n  }) => {\n    return user;\n  });\n  const dispatch = useDispatch(); // dispatch(checkLogin());\n\n  const loginState = useSelector(appState => {\n    return {\n      auth: appState.auth\n    };\n  });\n  React.useEffect(() => {\n    dispatch(checkLogin());\n  }, [loginState.message]);\n\n  const logout = () => {\n    const logoutPromise = fetch('http://localhost:8089/logout', {\n      credentials: 'include'\n    }).then(res => res.json()).catch();\n    dispatch({\n      type: appConstants.LOGOUT,\n      payload: logoutPromise\n    });\n    console.log('checkLogin from logout');\n    dispatch(checkLogin());\n  };\n\n  return /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    className: \"Header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    className: \"app-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, \"MSI\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.floorPlanRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"Floor Plans\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.locationsRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"Locations\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.quickLookRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"QuickLook\")), /*#__PURE__*/React.createElement(NavLink, {\n    eventKey: \"1\",\n    to: appConstants.FAQRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }\n  }, \"FAQ\")), /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.loginRoute,\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, user ? /*#__PURE__*/React.createElement(Button, {\n    onClick: logout,\n    className: \"auth-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 33\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(Button, {\n    className: \"auth-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }, \"Login\")), // user ?\n  //     <NavLink to={appConstants.userPageRoute}>\n  //         <IconButton>\n  //             <NamesIcon className=\"nav-action-icon\"/>\n  //         </IconButton>\n  //     </NavLink>\n  //     :\n  //     <span></span>\n  user ? user.profiles[0].id === 2 ? /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.userPageRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(NamesIcon, {\n    className: \"nav-action-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 41\n    }\n  }))) : /*#__PURE__*/React.createElement(NavLink, {\n    to: appConstants.adminPageRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(NamesIcon, {\n    className: \"nav-action-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 41\n    }\n  }))) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }))));\n};\n\nexport default Header;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/header/Header.js"],"names":["React","Typography","Toolbar","AppBar","NavLink","appConstants","Button","checkLogin","useDispatch","useSelector","IconButton","NamesIcon","Header","user","dispatch","loginState","appState","auth","useEffect","message","logout","logoutPromise","fetch","credentials","then","res","json","catch","type","LOGOUT","payload","console","log","floorPlanRoute","locationsRoute","quickLookRoute","FAQRoute","loginRoute","textDecoration","profiles","id","userPageRoute","adminPageRoute"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Typography from \"@material-ui/core/Typography\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport './Header.scss';\nimport {NavLink} from \"react-router-dom\";\nimport {appConstants} from \"../constants/constant\";\nimport Button from \"@material-ui/core/Button/Button\";\nimport {checkLogin} from \"../actions/user.action\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\nimport NamesIcon from '@material-ui/icons/People';\n\nconst Header = () => {\n    const user = useSelector(({user}) => {\n        return user;\n    });\n\n\n\n    const dispatch = useDispatch();\n    // dispatch(checkLogin());\n\n\n    const loginState = useSelector(appState => {\n        return {\n            auth: appState.auth\n        };\n    });\n\n\n    React.useEffect(()=>{\n        dispatch(checkLogin());\n    }, [loginState.message]);\n\n\n    const logout = () => {\n        const logoutPromise = fetch('http://localhost:8089/logout', {credentials: 'include'})\n            .then(res => res.json())\n            .catch();\n        dispatch({\n            type: appConstants.LOGOUT,\n            payload: logoutPromise\n        });\n\n        console.log('checkLogin from logout');\n        dispatch(checkLogin());\n    };\n\n    return (\n        <AppBar position=\"static\" className=\"Header\">\n            <Toolbar>\n                <Typography variant=\"h6\" className=\"app-name\">\n                    MSI\n                </Typography>\n                <div className=\"nav-actions\">\n                    <NavLink to={appConstants.floorPlanRoute}>\n                        <Button>Floor Plans</Button>\n                    </NavLink>\n\n                    <NavLink to={appConstants.locationsRoute}>\n                        <Button>Locations</Button>\n                    </NavLink>\n                    <NavLink to={appConstants.quickLookRoute}>\n                        <Button>QuickLook</Button>\n                    </NavLink>\n                    <NavLink eventKey=\"1\" to={appConstants.FAQRoute}>\n                        <Button>FAQ</Button>\n                    </NavLink>\n                    <NavLink to={appConstants.loginRoute} style={{textDecoration: 'none'}}>\n                        {\n                            user ?\n                                <Button onClick={logout} className=\"auth-action\">Logout</Button>\n                                :\n                                <Button className=\"auth-action\">Login</Button>\n                        }\n                    </NavLink>\n                    {\n                        // user ?\n                        //     <NavLink to={appConstants.userPageRoute}>\n                        //         <IconButton>\n                        //             <NamesIcon className=\"nav-action-icon\"/>\n                        //         </IconButton>\n                        //     </NavLink>\n                        //     :\n                        //     <span></span>\n                        user ?\n                            user.profiles[0].id === 2 ?\n                                <NavLink to={appConstants.userPageRoute}>\n                                    <IconButton>\n                                        <NamesIcon className=\"nav-action-icon\"/>\n                                    </IconButton>\n                                </NavLink> :\n                                <NavLink to={appConstants.adminPageRoute}>\n                                    <IconButton>\n                                        <NamesIcon className=\"nav-action-icon\"/>\n                                    </IconButton>\n                                </NavLink>\n\n                            :\n                            <span></span>\n\n                    }\n                </div>\n            </Toolbar>\n        </AppBar>\n    );\n};\nexport default Header;"]},"metadata":{},"sourceType":"module"}