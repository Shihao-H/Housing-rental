{"ast":null,"code":"import _objectSpread from\"/Users/shihaohuang/Documents/Mercury/community-management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shihaohuang/Documents/Mercury/community-management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Button from\"@material-ui/core/Button/Button\";import{useDispatch,useSelector}from\"react-redux\";import{issueBill,issueMonthly}from\"../actions/issurBill.action\";import Snackbar from\"@material-ui/core/Snackbar/Snackbar\";import{appConstants}from\"../constants/constant\";var AdminIssueBill=function AdminIssueBill(){var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open2=_useState4[0],setOpen2=_useState4[1];var issueBillState=useSelector(function(appState){return{response3:appState.response3,response4:appState.response4,msg:appState.response3?appConstants.ISSUE_MONTHLY_SUCCESS_MESSAGE:appConstants.ISSUE_MONTHLY_FAILURE_MESSAGE,msg2:appState.response4?appConstants.ISSUE_BILL_SUCCESS_MESSAGE:appConstants.ISSUE_MONTHLY_FAILURE_MESSAGE};});var _useState5=useState({uid:'',amount:'',memo:'',date:new Date(),status:'unpaid'}),_useState6=_slicedToArray(_useState5,2),ph=_useState6[0],setPh=_useState6[1];var _useState7=useState({amount:'',memo:'',type:'',date:new Date()}),_useState8=_slicedToArray(_useState7,2),month=_useState8[0],setMonth=_useState8[1];var f1=function f1(event){var newPh=_objectSpread({},ph);newPh.uid=event.target.value;setPh(newPh);};var f2=function f2(event){var newPh=_objectSpread({},ph);newPh.amount=event.target.value;setPh(newPh);};var f3=function f3(event){var newPh=_objectSpread({},ph);newPh.memo=event.target.value;setPh(newPh);};var f4=function f4(event){var newMonth=_objectSpread({},month);newMonth.amount=event.target.value;setMonth(newMonth);};var f5=function f5(event){var newMonth=_objectSpread({},month);newMonth.memo=event.target.value;setMonth(newMonth);};var f6=function f6(event){var newMonth=_objectSpread({},month);newMonth.type=event.target.value;setMonth(newMonth);};var monthly=function monthly(event){event.preventDefault();console.log(month);dispatch(issueMonthly(month,function(){setOpen(true);},function(){setOpen(true);}));};var single=function single(event){event.preventDefault();dispatch(issueBill(ph,function(){setOpen2(true);},function(){setOpen2(true);}));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Issue bill to a specific user\"),/*#__PURE__*/React.createElement(\"label\",null,\"User_id:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",onChange:f1}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Amount:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",onChange:f2}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Memo:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:f3}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:single},\"Issue\"),/*#__PURE__*/React.createElement(\"h3\",null,\"Issue monthly payments to active users\"),/*#__PURE__*/React.createElement(\"label\",null,\"Amount:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",onChange:f4}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Memo:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:f5}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Type:\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{name:\"type\",id:\"cars\",onChange:f6},/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Studio\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2x2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3x3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{color:\"primary\",onClick:monthly},\"Issue\"),/*#__PURE__*/React.createElement(Snackbar,{className:issueBillState.response3?'success':'failure',open:open,onClose:function onClose(){return setOpen(false);},autoHideDuration:3000,message:/*#__PURE__*/React.createElement(\"span\",null,issueBillState.msg)}),/*#__PURE__*/React.createElement(Snackbar,{className:issueBillState.response4?'success':'failure',open:open2,onClose:function onClose(){return setOpen2(false);},autoHideDuration:3000,message:/*#__PURE__*/React.createElement(\"span\",null,issueBillState.msg2)}));};export default AdminIssueBill;","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/admin-page/AdminIssueBill.js"],"names":["React","useState","Button","useDispatch","useSelector","issueBill","issueMonthly","Snackbar","appConstants","AdminIssueBill","dispatch","open","setOpen","open2","setOpen2","issueBillState","appState","response3","response4","msg","ISSUE_MONTHLY_SUCCESS_MESSAGE","ISSUE_MONTHLY_FAILURE_MESSAGE","msg2","ISSUE_BILL_SUCCESS_MESSAGE","uid","amount","memo","date","Date","status","ph","setPh","type","month","setMonth","f1","event","newPh","target","value","f2","f3","f4","newMonth","f5","f6","monthly","preventDefault","console","log","single"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport Button from \"@material-ui/core/Button/Button\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {issueBill, issueMonthly} from \"../actions/issurBill.action\";\nimport Snackbar from \"@material-ui/core/Snackbar/Snackbar\";\nimport {appConstants} from \"../constants/constant\";\n\nconst AdminIssueBill = () => {\n\n    const dispatch = useDispatch();\n\n    const [open, setOpen] = useState(false);\n\n    const [open2, setOpen2] = useState(false);\n\n    const issueBillState = useSelector(appState => {\n        return {\n            response3: appState.response3,\n            response4: appState.response4,\n            msg: appState.response3 ?\n                appConstants.ISSUE_MONTHLY_SUCCESS_MESSAGE:\n                appConstants.ISSUE_MONTHLY_FAILURE_MESSAGE,\n\n            msg2: appState.response4 ?\n                appConstants.ISSUE_BILL_SUCCESS_MESSAGE:\n                appConstants.ISSUE_MONTHLY_FAILURE_MESSAGE\n        };\n    });\n\n    const [ph, setPh] = useState({\n        uid: '',\n        amount: '',\n        memo: '',\n        date: new Date(),\n        status: 'unpaid'\n    });\n\n    const [month, setMonth] = useState({\n        amount: '',\n        memo: '',\n        type: '',\n        date: new Date()\n    });\n\n    const f1 = (event) => {\n        const newPh = {...ph};\n        newPh.uid = event.target.value;\n        setPh(newPh);\n    };\n\n    const f2 = (event) => {\n        const newPh = {...ph};\n        newPh.amount = event.target.value;\n        setPh(newPh);\n    };\n\n    const f3 = (event) => {\n        const newPh = {...ph};\n        newPh.memo = event.target.value;\n        setPh(newPh);\n    };\n\n    const f4 = (event) => {\n        const newMonth = {...month};\n        newMonth.amount = event.target.value;\n        setMonth(newMonth);\n    };\n\n    const f5 = (event) => {\n        const newMonth = {...month};\n        newMonth.memo = event.target.value;\n        setMonth(newMonth);\n    };\n\n    const f6 = (event) => {\n        const newMonth = {...month};\n        newMonth.type = event.target.value;\n        setMonth(newMonth);\n    };\n\n\n\n    const monthly = (event) => {\n        event.preventDefault();\n        console.log(month);\n        dispatch(issueMonthly(month,\n                () => {\n                    setOpen(true);\n                },\n                () => {\n                    setOpen(true)\n                }\n            )\n        );\n\n    }\n\n    const single = (event) => {\n        event.preventDefault();\n        dispatch(issueBill(ph,\n            () => {\n                setOpen2(true);\n            },\n            () => {\n                setOpen2(true)\n            }\n\n        ));\n\n\n    }\n\n\n    return (\n        <div>\n            <h3>Issue bill to a specific user</h3>\n            <label>User_id:</label><br/>\n            <input type=\"number\" onChange={f1}/><br/>\n            <label>Amount:</label><br/>\n            <input type=\"number\" onChange={f2}/><br/>\n            <label>Memo:</label><br/>\n            <input type=\"text\" onChange={f3}/><br/>\n            <Button color = \"primary\" onClick = {single}>Issue</Button>\n\n            <h3>Issue monthly payments to active users</h3>\n            <label>Amount:</label><br/>\n            <input type=\"number\" onChange={f4}/><br/>\n            <label>Memo:</label><br/>\n            <input type=\"text\" onChange={f5}/><br/>\n            <label>Type:</label><br/>\n            <select name=\"type\" id=\"cars\" onChange={f6}>\n                <option value=\"1\">Studio</option>\n                <option value=\"2\">2x2</option>\n                <option value=\"3\">3x3</option>\n                <option value=\"4\">4</option>\n            </select>\n            <br/>\n            <Button color = \"primary\" onClick = {monthly}>Issue</Button>\n\n\n            <Snackbar\n                className={issueBillState.response3 ? 'success' : 'failure'}\n                open={open}\n                onClose={() => setOpen(false)}\n                autoHideDuration={3000}\n                message={<span>{issueBillState.msg}</span>}\n            />\n            <Snackbar\n                className={issueBillState.response4 ? 'success' : 'failure'}\n                open={open2}\n                onClose={() => setOpen2(false)}\n                autoHideDuration={3000}\n                message={<span>{issueBillState.msg2}</span>}\n            />\n        </div>\n    );\n\n\n}\n\nexport default AdminIssueBill;"]},"metadata":{},"sourceType":"module"}