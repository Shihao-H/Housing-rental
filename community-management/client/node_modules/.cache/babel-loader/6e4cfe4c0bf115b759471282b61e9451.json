{"ast":null,"code":"import _objectSpread from\"/Users/shihaohuang/Documents/Mercury/community-management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/shihaohuang/Documents/Mercury/community-management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import TextField from\"@material-ui/core/TextField/TextField\";import InputAdornment from\"@material-ui/core/InputAdornment/InputAdornment\";import UsernameIcon from\"@material-ui/icons/Person\";import Fab from\"@material-ui/core/Fab/Fab\";import PasswordIcon from\"@material-ui/icons/VpnKey\";import{withStyles}from\"@material-ui/core\";import{useDispatch,useSelector}from\"react-redux\";import{register,userinfo}from\"../actions/user.action\";import'./Register.scss';import Paper from\"@material-ui/core/Paper/Paper\";import{appConstants}from\"../constants/constant\";import AccountCircleIcon from'@material-ui/icons/AccountCircle';var styles={root:{marginTop:'25px','& .MuiInput-underline:before':{borderBottomColor:'white'},'& .MuiInput-underline:after':{borderBottomColor:'white'},'& .MuiInput-underline:before:hover':{borderBottomColor:'white'},'& .MuiInput-underline:hover:not(.MuiInput-disabled):before':{borderBottomColor:'white'},'& .MuiFormLabel-root':{color:'white'}},input:{color:'white'},button:{'&.MuiButtonBase-root':{margin:'50px 0 25px'}}};var Register=function Register(props){var classes=props.classes;// // React hooks  React.useState()\nvar _useState=useState({username:'',password:'',profiles:[],isactive:0}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var registerState=useSelector(function(appState){return{user:appState.user,msg:appState.user?appConstants.LOGIN_SUCCESS_MESSAGE+user.username:appConstants.LOGIN_FAILURE_MESSAGE};});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];//\nvar dispatch=useDispatch();var handleFormControl=function handleFormControl(event){var newUser=_objectSpread({},user);newUser[event.target.name]=event.target.value;setUser(newUser);// const newUserInfo = {...userInfo};\n// newUserInfo.user = newUser;\n// setUserInfo(newUserInfo);\n};var handleSubmit=function handleSubmit(event){event.preventDefault();dispatch(register(user,function(){setOpen(false);// return <Redirect  to=\"/user-page/\" />\nsetTimeout(function(){props.history.push('/login');},1000);},function(){return setOpen(true);}));};return/*#__PURE__*/React.createElement(\"div\",{className:\"daddy2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"contentRegister\"},/*#__PURE__*/React.createElement(Paper,{className:\"Login\",elevation:10},/*#__PURE__*/React.createElement(\"div\",{className:\"overlay\"}),/*#__PURE__*/React.createElement(\"form\",{className:\"login-form\",onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"login-icon\"},/*#__PURE__*/React.createElement(AccountCircleIcon,null)),/*#__PURE__*/React.createElement(TextField,{name:\"username\"// className={classes.root}\n,label:\"Username\",value:user.username,onChange:handleFormControl,InputProps:{className:classes.input,startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(UsernameIcon,null))}}),/*#__PURE__*/React.createElement(TextField,{name:\"password\"// className={classes.root}\n,label:\"Password\",type:\"password\",value:user.password,onChange:handleFormControl,InputProps:{className:classes.input,startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(PasswordIcon,null))}}),/*#__PURE__*/React.createElement(TextField,{name:\"confirmed-password\"// className={classes.root}\n,label:\"confirmedPassword\",type:\"password\"// value={user.password}\n,onChange:handleFormControl,InputProps:{className:classes.input,startAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"start\"},/*#__PURE__*/React.createElement(PasswordIcon,null))}}),/*#__PURE__*/React.createElement(Fab,{variant:\"extended\",size:\"medium\",color:\"default\",\"aria-label\":\"Register\",className:classes.button,type:\"submit\"// disabled={!user.username || !user.password}\n},\"Register\")))));};export default withStyles(styles)(Register);","map":{"version":3,"sources":["/Users/shihaohuang/Documents/Mercury/community-management/client/src/navbar/Register.js"],"names":["React","useState","TextField","InputAdornment","UsernameIcon","Fab","PasswordIcon","withStyles","useDispatch","useSelector","register","userinfo","Paper","appConstants","AccountCircleIcon","styles","root","marginTop","borderBottomColor","color","input","button","margin","Register","props","classes","username","password","profiles","isactive","user","setUser","registerState","appState","msg","LOGIN_SUCCESS_MESSAGE","LOGIN_FAILURE_MESSAGE","open","setOpen","dispatch","handleFormControl","event","newUser","target","name","value","handleSubmit","preventDefault","setTimeout","history","push","className","startAdornment"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport TextField from \"@material-ui/core/TextField/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment/InputAdornment\";\nimport UsernameIcon from \"@material-ui/icons/Person\";\nimport Fab from \"@material-ui/core/Fab/Fab\";\nimport PasswordIcon from \"@material-ui/icons/VpnKey\"\nimport {withStyles} from \"@material-ui/core\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {register, userinfo} from \"../actions/user.action\";\nimport './Register.scss';\nimport Paper from \"@material-ui/core/Paper/Paper\";\nimport {appConstants} from \"../constants/constant\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\n\n\n\nconst styles = {\n    root: {\n        marginTop: '25px',\n        '& .MuiInput-underline:before': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:after': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:before:hover': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiInput-underline:hover:not(.MuiInput-disabled):before': {\n            borderBottomColor: 'white'\n        },\n        '& .MuiFormLabel-root': {\n            color: 'white'\n        }\n    },\n    input: {\n        color: 'white'\n    },\n    button: {\n        '&.MuiButtonBase-root': {\n            margin: '50px 0 25px'\n        }\n    }\n};\n\n\n\nconst Register = (props) => {\n\n    const {classes} = props;\n    // // React hooks  React.useState()\n    const [user, setUser] = useState({\n        username: '',\n        password: '',\n        profiles:[],\n        isactive:0\n    });\n\n    const registerState = useSelector(appState => {\n        return {\n            user: appState.user,\n            msg: appState.user ?\n                appConstants.LOGIN_SUCCESS_MESSAGE + user.username :\n                appConstants.LOGIN_FAILURE_MESSAGE\n        };\n    });\n\n    const [open, setOpen] = useState(false);\n    //\n    const dispatch = useDispatch();\n\n    const handleFormControl = (event) => {\n        const newUser = {...user};\n        newUser[event.target.name] = event.target.value;\n        setUser(newUser);\n\n        // const newUserInfo = {...userInfo};\n        // newUserInfo.user = newUser;\n        // setUserInfo(newUserInfo);\n\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        dispatch(register(\n            user,\n            () => {\n                setOpen(false);\n                // return <Redirect  to=\"/user-page/\" />\n                setTimeout(() => {\n                    props.history.push('/login');\n\n                }, 1000);\n            },\n            () => setOpen(true)\n        ));\n\n\n\n    };\n\n\n\n    return (\n        <div className=\"daddy2\">\n        <div className=\"contentRegister\">\n        <Paper className=\"Login\" elevation={10}>\n            <div className=\"overlay\"/>\n            <form className=\"login-form\" onSubmit={handleSubmit}>\n                <div className=\"login-icon\">\n                    <AccountCircleIcon/>\n                </div>\n                <TextField\n                    name=\"username\"\n                    // className={classes.root}\n                    label=\"Username\"\n                    value={user.username}\n                    onChange={handleFormControl}\n                    InputProps={{\n                        className: classes.input,\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <UsernameIcon />\n                            </InputAdornment>\n                        ),\n                    }}\n                />\n\n                <TextField\n                    name=\"password\"\n                    // className={classes.root}\n                    label=\"Password\"\n                    type=\"password\"\n                    value={user.password}\n                    onChange={handleFormControl}\n                    InputProps={{\n                        className: classes.input,\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <PasswordIcon />\n                            </InputAdornment>\n                        )\n                    }}\n                />\n\n                <TextField\n                    name=\"confirmed-password\"\n                    // className={classes.root}\n                    label=\"confirmedPassword\"\n                    type=\"password\"\n                    // value={user.password}\n                    onChange={handleFormControl}\n                    InputProps={{\n                        className: classes.input,\n                        startAdornment: (\n                            <InputAdornment position=\"start\">\n                                <PasswordIcon />\n                            </InputAdornment>\n                        )\n                    }}\n                />\n\n                <Fab\n                    variant=\"extended\"\n                    size=\"medium\"\n                    color=\"default\"\n                    aria-label=\"Register\"\n                    className={classes.button}\n                    type=\"submit\"\n                    // disabled={!user.username || !user.password}\n                >\n                    Register\n                </Fab>\n            </form>\n        </Paper>\n        </div>\n        </div>\n    );\n}\n\nexport default withStyles(styles)(Register);"]},"metadata":{},"sourceType":"module"}